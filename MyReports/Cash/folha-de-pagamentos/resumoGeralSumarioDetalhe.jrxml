<?xml version="1.0" encoding="UTF-8"?>
<!-- Created with Jaspersoft Studio version 6.16.0.final using JasperReports Library version 6.16.0-48579d909b7943b64690c65c71e07e0b80981928  -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="resumoGeralSumarioDetalhe" pageWidth="270" pageHeight="842" whenNoDataType="NoPages" columnWidth="270" leftMargin="0" rightMargin="0" topMargin="0" bottomMargin="0" uuid="bab9a472-bd60-4268-ab90-c9b0392e1a1e">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="MGCash"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<property name="ireport.jasperserver.url" value="http://ns1.mgcash.app.br:8080/jasperserver/"/>
	<property name="ireport.jasperserver.user" value="jasperadmin"/>
	<property name="ireport.jasperserver.report.resource" value="/reports/Cash/folha_de_pagamento/resumoGeralSumarioDetalhe_files/main_jrxml"/>
	<property name="ireport.jasperserver.reportUnit" value="/reports/Cash/folha_de_pagamento/resumoGeralSumarioDetalhe"/>
	<style name="Zebrado" mode="Opaque" backcolor="rgba(245, 224, 162, 0.21568628)">
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean(($V{COLUMN_COUNT}.intValue() % 2) != 0)]]></conditionExpression>
			<style mode="Transparent"/>
		</conditionalStyle>
	</style>
	<parameter name="tipo_evento" class="java.lang.String">
		<defaultValueExpression><![CDATA["0"]]></defaultValueExpression>
	</parameter>
	<parameter name="dbSchema" class="java.lang.String">
		<defaultValueExpression><![CDATA["wwmgca_maribondo_ativos"]]></defaultValueExpression>
	</parameter>
	<parameter name="ano" class="java.lang.String">
		<defaultValueExpression><![CDATA["2021"]]></defaultValueExpression>
	</parameter>
	<parameter name="mes" class="java.lang.String">
		<defaultValueExpression><![CDATA["08"]]></defaultValueExpression>
	</parameter>
	<parameter name="complementar" class="java.lang.String">
		<defaultValueExpression><![CDATA["000"]]></defaultValueExpression>
	</parameter>
	<parameter name="id_cad_servidores" class="java.lang.String" evaluationTime="Early">
		<defaultValueExpression><![CDATA["ff.id_cad_servidores IS NOT NULL"]]></defaultValueExpression>
	</parameter>
	<parameter name="id_cad_centros" class="java.lang.String">
		<defaultValueExpression><![CDATA["ff.id_cad_centros IS NOT NULL"]]></defaultValueExpression>
	</parameter>
	<parameter name="id_cad_departamentos" class="java.lang.String">
		<defaultValueExpression><![CDATA["ff.id_cad_departamentos IS NOT NULL"]]></defaultValueExpression>
	</parameter>
	<parameter name="id_cad_cargos" class="java.lang.String">
		<defaultValueExpression><![CDATA["ff.id_cad_cargos IS NOT NULL"]]></defaultValueExpression>
	</parameter>
	<parameter name="id_cad_locais_trabalho" class="java.lang.String">
		<defaultValueExpression><![CDATA["ff.id_local_trabalho IS NOT NULL"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT LPAD(fe.id_evento, 3, '0') id_evento, fe.evento_nome, fr.mes, fr.ano, fr.complementar, COUNT(fr.id_fin_eventos) AS quantidade, SUM(fr.valor_baseespecial)valor_baseespecial, 
SUM(fr.valor_base)valor_base, SUM(fr.valor_basefixa)valor_basefixa, SUM(fr.valor_desconto)valor_desconto, 
SUM(fr.valor_percentual)valor_percentual, SUM(fr.valor_saldo)valor_saldo, SUM(fr.valor)valor, 
SUM(fr.valor_patronal)valor_patronal, SUM(fr.valor_maternidade)valor_maternidade,
 IF(fe.tipo = 0, 'c', IF(fe.tipo = 1, 'd', '')) tipo
FROM $P!{dbSchema}.fin_rubricas fr
LEFT JOIN $P!{dbSchema}.cad_servidores cs ON fr.id_cad_servidores = cs.id
LEFT JOIN $P!{dbSchema}.fin_eventos fe ON fr.id_fin_eventos = fe.id
LEFT JOIN $P!{dbSchema}.fin_sfuncional ff ON ff.id_cad_servidores = cs.id AND fr.ano = ff.ano AND CAST(fr.mes AS UNSIGNED) = CAST(ff.mes AS UNSIGNED) AND CAST(fr.complementar AS UNSIGNED) = CAST(ff.complementar AS UNSIGNED) AND fr.dominio = ff.dominio
LEFT JOIN $P!{dbSchema}.cad_centros AS cc ON cc.id = ff.id_cad_centros 
LEFT JOIN $P!{dbSchema}.cad_cargos AS cg ON cg.id = ff.id_cad_cargos 
LEFT JOIN $P!{dbSchema}.cad_departamentos AS cd ON cd.id = ff.id_cad_departamentos 
LEFT JOIN $P!{dbSchema}.cad_localtrabalho AS cf ON cf.id = ff.id_local_trabalho 
WHERE $P!{id_cad_centros} AND $P!{id_cad_departamentos} AND $P!{id_cad_servidores} AND $P!{id_cad_cargos} AND $P!{id_cad_locais_trabalho} 
AND ff.ano = "$P!{ano}" AND ff.mes = "$P!{mes}" AND ff.complementar = "$P!{complementar}" AND fr.valor > 0 AND ff.situacao = 1 AND fe.tipo = '$P!{tipo_evento}'
GROUP BY fr.id_fin_eventos 
ORDER BY fe.tipo ASC, fe.id_evento ASC]]>
	</queryString>
	<field name="id_evento" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="id_evento"/>
		<property name="com.jaspersoft.studio.field.label" value="id_evento"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="fin_eventos"/>
		<fieldDescription><![CDATA[Codigo evento]]></fieldDescription>
	</field>
	<field name="evento_nome" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="evento_nome"/>
		<property name="com.jaspersoft.studio.field.label" value="evento_nome"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="fin_eventos"/>
		<fieldDescription><![CDATA[Evento]]></fieldDescription>
	</field>
	<field name="mes" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="mes"/>
		<property name="com.jaspersoft.studio.field.label" value="mes"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="fin_rubricas"/>
		<fieldDescription><![CDATA[Mês]]></fieldDescription>
	</field>
	<field name="ano" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="ano"/>
		<property name="com.jaspersoft.studio.field.label" value="ano"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="fin_rubricas"/>
		<fieldDescription><![CDATA[Ano]]></fieldDescription>
	</field>
	<field name="complementar" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="complementar"/>
		<property name="com.jaspersoft.studio.field.label" value="complementar"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="fin_rubricas"/>
		<fieldDescription><![CDATA[Parcela]]></fieldDescription>
	</field>
	<field name="quantidade" class="java.lang.Long">
		<property name="com.jaspersoft.studio.field.name" value="quantidade"/>
		<property name="com.jaspersoft.studio.field.label" value="quantidade"/>
	</field>
	<field name="valor_baseespecial" class="java.lang.Double">
		<property name="com.jaspersoft.studio.field.name" value="valor_baseespecial"/>
		<property name="com.jaspersoft.studio.field.label" value="valor_baseespecial"/>
	</field>
	<field name="valor_base" class="java.lang.Double">
		<property name="com.jaspersoft.studio.field.name" value="valor_base"/>
		<property name="com.jaspersoft.studio.field.label" value="valor_base"/>
	</field>
	<field name="valor_basefixa" class="java.lang.Double">
		<property name="com.jaspersoft.studio.field.name" value="valor_basefixa"/>
		<property name="com.jaspersoft.studio.field.label" value="valor_basefixa"/>
	</field>
	<field name="valor_desconto" class="java.lang.Double">
		<property name="com.jaspersoft.studio.field.name" value="valor_desconto"/>
		<property name="com.jaspersoft.studio.field.label" value="valor_desconto"/>
	</field>
	<field name="valor_percentual" class="java.lang.Double">
		<property name="com.jaspersoft.studio.field.name" value="valor_percentual"/>
		<property name="com.jaspersoft.studio.field.label" value="valor_percentual"/>
	</field>
	<field name="valor_saldo" class="java.lang.Double">
		<property name="com.jaspersoft.studio.field.name" value="valor_saldo"/>
		<property name="com.jaspersoft.studio.field.label" value="valor_saldo"/>
	</field>
	<field name="valor" class="java.lang.Double">
		<property name="com.jaspersoft.studio.field.name" value="valor"/>
		<property name="com.jaspersoft.studio.field.label" value="valor"/>
	</field>
	<field name="valor_patronal" class="java.lang.Double">
		<property name="com.jaspersoft.studio.field.name" value="valor_patronal"/>
		<property name="com.jaspersoft.studio.field.label" value="valor_patronal"/>
	</field>
	<field name="valor_maternidade" class="java.lang.Double">
		<property name="com.jaspersoft.studio.field.name" value="valor_maternidade"/>
		<property name="com.jaspersoft.studio.field.label" value="valor_maternidade"/>
	</field>
	<field name="tipo" class="java.lang.String">
		<property name="com.jaspersoft.studio.field.name" value="tipo"/>
		<property name="com.jaspersoft.studio.field.label" value="tipo"/>
		<property name="com.jaspersoft.studio.field.tree.path" value="fin_eventos"/>
		<fieldDescription><![CDATA[Tipo]]></fieldDescription>
	</field>
	<variable name="dataAtual" class="java.lang.String" resetType="None">
		<variableExpression><![CDATA["Emitido em: "+
(java.time.LocalDateTime.now().format(java.time.format.DateTimeFormatter.ofPattern("EEEE")) + ", " + java.time.LocalDateTime.now().format(java.time.format.DateTimeFormatter.ofPattern("dd-MMMM-yyyy")).replace("-", " de ") + " às " + java.time.LocalDateTime.now().format(java.time.format.DateTimeFormatter.ofPattern("HH:mm:ss"))).toLowerCase()]]></variableExpression>
	</variable>
	<variable name="count_eventos" class="java.lang.Integer" calculation="Count">
		<variableExpression><![CDATA[$F{id_evento}]]></variableExpression>
		<initialValueExpression><![CDATA[0.0]]></initialValueExpression>
	</variable>
	<variable name="t_eventos" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{valor}]]></variableExpression>
		<initialValueExpression><![CDATA[0.0]]></initialValueExpression>
	</variable>
	<variable name="t_inss_retido" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[($F{id_evento}.equalsIgnoreCase("998") || $F{id_evento}.equalsIgnoreCase("995")) ? $F{valor} : 0]]></variableExpression>
		<initialValueExpression><![CDATA[0.0]]></initialValueExpression>
	</variable>
	<variable name="t_inss_s_familia" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{id_evento}.equalsIgnoreCase("898") ? $F{valor} : 0.0]]></variableExpression>
		<initialValueExpression><![CDATA[0.0]]></initialValueExpression>
	</variable>
	<variable name="t_inss_s_matern" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{id_evento}.equalsIgnoreCase("888") ? $F{valor} : 0.0]]></variableExpression>
		<initialValueExpression><![CDATA[0.0]]></initialValueExpression>
	</variable>
	<variable name="t_rpps_retido" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[($F{id_evento}.equalsIgnoreCase("997") || $F{id_evento}.equalsIgnoreCase("994")) ? $F{valor} : 0.0]]></variableExpression>
		<initialValueExpression><![CDATA[0.0]]></initialValueExpression>
	</variable>
	<variable name="t_inss_patronal" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{id_evento}.equalsIgnoreCase("995") || $F{id_evento}.equalsIgnoreCase("998") ? $F{valor_patronal} : 0.0]]></variableExpression>
		<initialValueExpression><![CDATA[0.0]]></initialValueExpression>
	</variable>
	<variable name="t_rpps_patronal" class="java.lang.Double" calculation="Sum">
		<variableExpression><![CDATA[$F{id_evento}.equalsIgnoreCase("994") || $F{id_evento}.equalsIgnoreCase("997") ? $F{valor_patronal} : 0.0]]></variableExpression>
		<initialValueExpression><![CDATA[0.0]]></initialValueExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<columnHeader>
		<band height="11" splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<staticText>
				<reportElement mode="Opaque" x="0" y="0" width="34" height="11" backcolor="#F0F0F0" uuid="9772940f-924e-4c1d-8ecc-1c264e1c7e4c">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="804bca02-022c-4e20-a939-82888b1dec01"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<box leftPadding="2">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="7" isBold="true"/>
				</textElement>
				<text><![CDATA[Rúbrica]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="34" y="0" width="146" height="11" backcolor="#F0F0F0" uuid="5e497b3c-5301-42bb-a002-1a8730e94aa3">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="a59add3b-f9fd-4335-b2d8-d061f1b5ea88"/>
				</reportElement>
				<box leftPadding="2">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Middle">
					<font size="7" isBold="true"/>
				</textElement>
				<text><![CDATA[Descrição]]></text>
			</staticText>
			<staticText>
				<reportElement mode="Opaque" x="180" y="0" width="27" height="11" backcolor="#F0F0F0" uuid="84d3f46f-7664-400f-b4b4-dc4aa3cca7ba">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="a4cf5e60-a7e9-45c9-9278-e58012a02c28"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7" isBold="true"/>
				</textElement>
				<text><![CDATA[Quant.]]></text>
			</staticText>
			<textField>
				<reportElement mode="Opaque" x="207" y="0" width="63" height="11" backcolor="#F0F0F0" uuid="522054f8-c519-4682-8da2-ac0cd1d37c03">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="77e7c275-6e14-4b8e-a2bd-3ed126cb01f1"/>
					<property name="com.jaspersoft.studio.unit.width" value="px"/>
				</reportElement>
				<box topPadding="0" leftPadding="0" bottomPadding="0" rightPadding="2">
					<topPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="7" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{tipo}.equalsIgnoreCase("0") ? "Proventos" : "Descontos"]]></textFieldExpression>
			</textField>
		</band>
	</columnHeader>
	<detail>
		<band height="9" splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="px"/>
			<textField>
				<reportElement style="Zebrado" stretchType="RelativeToTallestObject" x="0" y="0" width="34" height="9" isPrintWhenDetailOverflows="true" uuid="6cd1b724-aa5c-4299-8d53-371ea418690d">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="c1dc6396-22c7-41fc-bb28-4339f159f09c"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{id_evento}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="Zebrado" stretchType="RelativeToTallestObject" x="34" y="0" width="146" height="9" isPrintWhenDetailOverflows="true" uuid="9c06de01-d18f-4628-95c8-2c13c0420f1a">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="f282d84e-a29c-4534-a790-75203c2ff1e2"/>
				</reportElement>
				<textElement verticalAlignment="Middle">
					<font size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{evento_nome}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="Zebrado" stretchType="RelativeToTallestObject" x="180" y="0" width="27" height="9" isPrintWhenDetailOverflows="true" uuid="50c94279-b2bb-4066-acf5-24a0e427302c">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="d2be7db5-9ca5-4d7c-8522-19d9e3c86560"/>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{quantidade}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="Zebrado" stretchType="RelativeToTallestObject" x="220" y="0" width="50" height="9" isPrintWhenDetailOverflows="true" uuid="6a61ef7a-b060-4bff-ab87-d33427dcebf2">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="00f5234b-e60c-48ea-8d02-61edd9051ec7"/>
				</reportElement>
				<textElement textAlignment="Right" verticalAlignment="Middle">
					<font size="7"/>
				</textElement>
				<textFieldExpression><![CDATA[String.format("%,.2f", $F{valor})]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement style="Zebrado" stretchType="RelativeToTallestObject" x="207" y="0" width="13" height="9" isPrintWhenDetailOverflows="true" uuid="af140eed-c7c2-42c2-bfaf-b1e9c08508d1">
					<property name="com.jaspersoft.studio.spreadsheet.connectionID" value="00f5234b-e60c-48ea-8d02-61edd9051ec7"/>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font size="7"/>
				</textElement>
				<textFieldExpression><![CDATA["R$"]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="15">
			<printWhenExpression><![CDATA[1==2]]></printWhenExpression>
			<textField>
				<reportElement x="0" y="0" width="135" height="15" uuid="e43b03e2-bb4d-43ec-a51d-1f5ec89ce711">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textFieldExpression><![CDATA[$V{t_inss_s_familia}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="135" y="0" width="135" height="15" uuid="ea885c6c-aeb6-4221-a1d9-2c10a9671271">
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textFieldExpression><![CDATA[$V{t_inss_s_matern}]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
